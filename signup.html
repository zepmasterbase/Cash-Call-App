<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>CashCall ‚Äî Sign up</title>
  <meta name="description" content="Create a CashCall account ‚Äî request payments quickly and securely." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Manrope:wght@600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      /* lighter theme */
      --bg-1: #eaf6ff;
      --bg-2: #f7fbff;
      --muted:#4b6272;
      --accent-a:#00bcd4;
      --accent-b:#8450ff;
      --radius:12px;
    }
    *{box-sizing:border-box}
    html,body{height:100%; width:100%; margin:0; padding:0; overflow-x:hidden;}
    body{
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
      background: linear-gradient(180deg,var(--bg-1),var(--bg-2));
      color:#06202b;
      padding:18px 14px;
      -webkit-font-smoothing:antialiased;
    }
    .wrap{ max-width:420px; margin:0 auto; }

    /* header */
    header{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:10px 12px; border-radius:12px;
      backdrop-filter: blur(6px) saturate(110%);
      background: rgba(255,255,255,0.7);
      border:1px solid rgba(6,32,44,0.06);
      box-shadow: 0 6px 20px rgba(6,32,44,0.04);
      position:sticky; top:12px; z-index:40;
      margin-bottom:14px;
    }
    .brand{ display:flex; gap:10px; align-items:center; min-width:0; }
    .logo-wrap{ width:44px; height:44px; display:grid; place-items:center; flex:0 0 44px; }
    .logo-svg{ width:40px; height:40px; display:block; }
    .title{ font-family:Manrope,Inter; font-weight:800; font-size:16px; background-image:linear-gradient(90deg,var(--accent-a),var(--accent-b)); color:transparent; -webkit-background-clip:text; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

    .hdr-actions{ display:flex; gap:8px; align-items:center; }
    .icon-btn{ width:40px; height:40px; border-radius:10px; display:grid; place-items:center; border:0; background:transparent; color:var(--muted); cursor:pointer; }
    .primary-btn{ padding:8px 12px; border-radius:10px; font-weight:800; background:linear-gradient(90deg,var(--accent-a),var(--accent-b)); color:#021026; border:0; }

    /* page content */
    main{ display:flex; flex-direction:column; gap:12px; }
    .hero-title{ font-family:Manrope; font-size:22px; margin:4px 0 0; color:#06202b; }
    .lead{ color:var(--muted); font-size:14px; margin:0; }

    /* form card */
    .card{ margin-top:6px; border-radius:12px; padding:14px; background: rgba(255,255,255,0.85); border:1px solid rgba(6,32,44,0.04); box-shadow: 0 14px 40px rgba(4,18,30,0.04); }
    .form-row{ display:flex; flex-direction:column; gap:8px; margin-bottom:8px; }
    label{ font-size:13px; color:#274048; font-weight:600; }
    input[type="text"], input[type="email"], input[type="password"], select{
      padding:12px; border-radius:10px; border:1px solid rgba(6,32,44,0.06); background:transparent; font-size:15px; color:#06202b;
    }
    .hint{ font-size:12px; color:var(--muted); }

    .pw-toggle{ position:relative; display:flex; align-items:center; }
    .pw-toggle button{ position:absolute; right:8px; top:8px; border:0; background:transparent; padding:6px; cursor:pointer; color:var(--muted); }

    .submit-row{ display:flex; gap:10px; margin-top:8px; }
    .submit{ flex:1; padding:12px; border-radius:10px; border:0; font-weight:800; background:linear-gradient(90deg,var(--accent-a),var(--accent-b)); color:#021026; cursor:pointer; }
    .alt{ flex:1; padding:12px; border-radius:10px; border:1px solid rgba(6,32,44,0.06); background:transparent; color:var(--muted); cursor:pointer; font-weight:700; }

    .divider{ text-align:center; color:var(--muted); font-size:13px; margin:8px 0; }

    footer{ margin-top:12px; color:var(--muted); text-align:center; font-size:13px; }

    @media (max-width:380px){ .hero-title{ font-size:20px } }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- header -->
    <header role="banner" aria-label="Top navigation">
      <div class="brand">
        <div class="logo-wrap" aria-hidden="true">
          <!-- inline neon C SVG (light theme uses same gradient) -->
          <svg class="logo-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="CashCall logo">
            <defs>
              <linearGradient id="g1" x1="0" x2="1"><stop offset="0%" stop-color="#00bcd4"/><stop offset="100%" stop-color="#8450ff"/></linearGradient>
            </defs>
            <g transform="translate(10,10)"><path d="M50 10 C30 10 14 26 14 46 C14 66 30 82 50 82 C70 82 86 66 86 46 C86 36 82 27 76 20" fill="none" stroke="url(#g1)" stroke-width="9" stroke-linecap="round" stroke-linejoin="round" opacity="0.16"/><path d="M50 10 C30 10 14 26 14 46 C14 66 30 82 50 82 C70 82 86 66 86 46 C86 36 82 27 76 20" fill="none" stroke="url(#g1)" stroke-width="9" stroke-linecap="round" stroke-linejoin="round"/></g>
          </svg>
        </div>
        <div class="title">CashCall</div>
      </div>

      <div class="hdr-actions">
        <button id="countryBtn" class="icon-btn" aria-expanded="false" aria-controls="countryPanel" aria-label="Choose country">üåç</button>
        <button class="primary-btn" onclick="location.href='login.html'">Log in</button>
      </div>
    </header>

    <!-- collapsible country panel (kept for quick country change) -->
    <div id="countryPanel" style="display:none; margin-bottom:8px; gap:8px;">
      <label style="font-size:13px;color:var(--muted);display:block;margin-bottom:6px;">Region</label>
      <select id="countrySelect" style="padding:10px;border-radius:10px;border:1px solid rgba(6,32,44,0.06);width:100%;background:transparent;color:#06202b;font-weight:700;">
        <option value="za" data-default-currency="ZAR">South Africa</option>
        <option value="gh" data-default-currency="GHS">Ghana</option>
        <option value="ng" data-default-currency="NGN">Nigeria</option>
      </select>
    </div>

    <main>
      <div>
        <div class="hero-title">Create your CashCall account</div>
        <p class="lead">Sign up to send and receive payments quickly. No merchant setup required.</p>
      </div>

      <section class="card" aria-labelledby="signup-form">
        <form id="signupForm" autocomplete="on" novalidate>
          <div class="form-row">
            <label for="fullName">Full name</label>
            <input id="fullName" name="name" type="text" placeholder="Your name" required>
            <div class="hint" id="nameHint">Use the name you want to appear on receipts.</div>
          </div>

          <div class="form-row">
            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="you@example.com" required>
            <div class="hint" id="emailHint">We'll send a verification link.</div>
          </div>

          <div class="form-row">
            <label for="phone">Phone number</label>
            <input id="phone" name="phone" type="text" placeholder="+27 82 123 4567" inputmode="tel" required>
            <div class="hint">Use the phone number you'll receive payment links on.</div>
          </div>

          <div class="form-row">
            <label for="country">Country</label>
            <select id="country" name="country" required>
              <option value="za" data-default-currency="ZAR">South Africa</option>
              <option value="gh" data-default-currency="GHS">Ghana</option>
              <option value="ng" data-default-currency="NGN">Nigeria</option>
            </select>
          </div>

          <div class="form-row">
            <label for="currency">Currency (wallet)</label>
            <select id="currency" name="currency" required>
              <option value="NGN">Naira (NGN)</option>
              <option value="ZAR">Rand (ZAR)</option>
              <option value="GHS">Cedi (GHS)</option>
              <option value="USD">US Dollar (USD)</option>
            </select>
            <div class="hint">Default currency is picked from your country but you can change it.</div>
          </div>

          <div class="form-row pw-toggle">
            <label for="password">Password</label>
            <input id="password" name="password" type="password" placeholder="Create a password" minlength="8" required>
            <button type="button" id="togglePw" aria-label="Show password">üëÅÔ∏è</button>
            <div class="hint">At least 8 characters. Use letters and numbers.</div>
          </div>

          <div style="display:flex;gap:8px;align-items:center;margin-top:6px;margin-bottom:6px;">
            <input id="tos" type="checkbox" required>
            <label for="tos" style="font-size:13px;color:var(--muted);">I agree to the <a href="#" style="color:var(--accent-a);text-decoration:none;">Terms</a> & <a href="#" style="color:var(--accent-a);">Privacy</a></label>
          </div>

          <div class="submit-row">
            <button type="submit" class="submit">Create account</button>
            <button type="button" class="alt" onclick="location.href='login.html'">Have an account?</button>
          </div>

          <div class="divider">or sign up with</div>

          <div style="display:flex;gap:10px;margin-top:6px;">
            <button type="button" class="social" style="flex:1" onclick="alert('Continue with Google (demo)')">Google</button>
            <button type="button" class="social" style="flex:1" onclick="alert('Continue with Apple (demo)')">Apple</button>
          </div>
        </form>
      </section>

      <footer>By creating an account you accept CashCall terms. <br>Need help? <a href="#" style="color:var(--accent-a);">Contact support</a></footer>
    </main>
  </div>

  <script>
    // small helper to create a demo token
    function makeToken() {
      return 'tok_' + Math.random().toString(36).slice(2) + Date.now().toString(36);
    }

    // map default currency by country
    const countryToCurrency = { ng: 'NGN', za: 'ZAR', gh: 'GHS' };

    // elements
    const countrySelectInline = document.getElementById('countrySelect'); // header panel select
    const countryBtn = document.getElementById('countryBtn');
    const countryPanel = document.getElementById('countryPanel');

    const country = document.getElementById('country');      // main form country select
    const currency = document.getElementById('currency');
    const pw = document.getElementById('password');
    const toggle = document.getElementById('togglePw');
    const form = document.getElementById('signupForm');

    // toggle header country panel
    countryBtn.addEventListener('click', () => {
      const open = countryPanel.style.display !== 'block';
      countryPanel.style.display = open ? 'block' : 'none';
      countryBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
      if (open) countrySelectInline.focus();
    });

    // when header inline country changes, propagate to main form and update currency default
    countrySelectInline.addEventListener('change', (e) => {
      const v = e.target.value;
      country.value = v;
      // set currency default for country
      const def = countryToCurrency[v] || 'USD';
      currency.value = def;
    });

    // when main country select changes, update header inline select & prefered currency
    country.addEventListener('change', (e) => {
      const v = e.target.value;
      if (countrySelectInline) countrySelectInline.value = v;
      const def = countryToCurrency[v] || 'USD';
      // only change currency if user hasn't manually changed it - we detect by checking a flag
      if (!currency.dataset.userChanged) currency.value = def;
    });

    // detect manual currency change
    currency.addEventListener('change', () => currency.dataset.userChanged = '1');

    // password show/hide
    toggle.addEventListener('click', () => {
      const isPwd = pw.type === 'password';
      pw.type = isPwd ? 'text' : 'password';
      toggle.textContent = isPwd ? 'üôà' : 'üëÅÔ∏è';
      toggle.setAttribute('aria-pressed', isPwd ? 'true' : 'false');
    });

    // demo signup: client-side "auth", store user + wallet in localStorage, redirect to dashboard.html
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }

      const data = {
        name: form.name.value.trim(),
        email: form.email.value.trim().toLowerCase(),
        phone: form.phone.value.trim(),
        country: form.country.value,
        currency: form.currency.value,
        createdAt: new Date().toISOString(),
      };

      // very small demo "auth" check ‚Äî in real app, call your server here
      // create token and store user
      const token = makeToken();
      const user = { ...data, id: 'user_' + Math.random().toString(36).slice(2) };

      // set up initial wallet: demo balance 0.00 in chosen currency
      const wallet = {
        userId: user.id,
        currency: data.currency,
        balance: 0.00,
        updatedAt: new Date().toISOString()
      };

      // persist (demo) to localStorage
      localStorage.setItem('cashcall_token', token);
      localStorage.setItem('cashcall_user', JSON.stringify(user));
      localStorage.setItem('cashcall_wallet', JSON.stringify(wallet));

      // Redirect to dashboard (client-side)
      // dashboard.html should read localStorage keys above to show wallet currency & balance
      window.location.href = 'dashboard.html';
    });

    // populate initial defaults: pick country from header select if present
    (function initDefaults(){
      // set form country from header inline select if present
      if (countrySelectInline && country) country.value = countrySelectInline.value || country.value;
      // set currency default based on country
      const def = countryToCurrency[country.value] || 'USD';
      currency.value = def;
    })();
  </script>
</body>
</html>